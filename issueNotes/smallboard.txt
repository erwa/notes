setup Python venv
pip install -r requirements.txt

pg_config - need libpq-dev
https://stackoverflow.com/questions/11618898/pg-config-executable-not-found

./psycopg/psycopg.h:34:10: fatal error: Python.h: No such file or directory
# --> didn't work # sudo apt-get install python3-dev # already installed
sudo apt-get install python3.7-dev
#test with
#locate Python.h
# not sure what that does, didn't work from shell
# after install python3.7-dev, pip install -r requirements.txt worked


erwaman@Anthony-Lenovo-Flex:codex-blackboard$ sudo snap install --classic heroku
[sudo] password for erwaman:
Interacting with snapd is not yet supported on Windows Subsystem for Linux.
This command has been left available for documentation purposes only.

Actually, can manually install Heroku on WSL
https://superuser.com/questions/1391219/setting-up-heroku-cli-in-wsl

ModuleNotFoundError: No module named 'django.utils.translation'
Try installing django-utils

Probably a corrupt installation due to Ctrl-C'ing in the middle of pip install

python manage.py runserver

settings.DATABASES is improperly configured. Please supply the ENGINE value. Check settings documentation for more details.

Need to have your email added as collaborator to Heroku app. Ask Sushi to do it.
I had to add erwaman@gmail.com

heroku git:remote -a smallboard

for testing locally, I think you can just run the server directly or use gunicorn. for the local db, I installed postgres and put some code in setting.py to load .env, my .env file is just:
  DATABASE_URL=postgres://username:password@localhost/smallboard
  and it'll load that instead of the heroku

# installing postgresql
sudo apt-get install postgresql

erwaman@Anthony-Lenovo-Flex:Desktop$ pg_lsclusters
Ver Cluster Port Status Owner    Data directory              Log file
10  main    5432 down   postgres /var/lib/postgresql/10/main /var/log/postgresql/postgresql-10-main.log

Success. You can now start the database server using:


# start server
/usr/lib/postgresql/10/bin/pg_ctl -D /var/lib/postgresql/10/main -l logfile start

# name of logfile is "logfile" in current directory
postgres: could not access the server configuration file "/var/lib/postgresql/10/main/postgresql.conf": No such file or directory

touch postgresql.conf

could not open configuration file "/var/lib/postgresql/10/main/pg_hba.conf": No such file or directory

touch pg_hba.conf

configuration file "/var/lib/postgresql/10/main/pg_hba.conf" contains no entries

https://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge

# restart server

/usr/lib/postgresql/10/bin/pg_ctl -D /var/lib/postgresql/10/main -l logfile restart

# no, no, did not need md5

https://stackoverflow.com/questions/17443379/psql-fatal-peer-authentication-failed-for-user-dev/17443990

^ this fixed issue

psql myuser -h 127.0.01 -d smallboard

# in pg_hba.conf (should be present by default)
local   all             all                                     peer

SSL error

django.db.utils.OperationalError: server does not support SSL, but SSL was required

# change ssl_require=True to ssl_require=False

You have 19 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, puzzles, sessions.
Run 'python manage.py migrate' to apply them.

python manage.py migrate

python manage.py runserver

# update cache
sudo apt-get update
sudo apt-get install python3-venv
# above is for 3.6

# for 3.7
sudo apt-get install python3.7-venv 

python3 -m venv venv_smallboard